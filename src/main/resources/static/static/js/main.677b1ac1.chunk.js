(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{182:function(e,t,n){e.exports=n(418)},187:function(e,t,n){},188:function(e,t,n){},206:function(e,t){},208:function(e,t){},240:function(e,t){},241:function(e,t){},310:function(e,t){},418:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(79),o=n.n(i),c=(n(187),n(188),n(17)),u=n(18),s=n(20),l=n(19),d=n(21),h=n(85),p=n(43),f=n(65),m=n(26),v=n.n(m),E=n(28),g=n(33),b={singular_utrum_indefinite:"Sg. u. obest.",singular_neutrum_indefinite:"Sg. n. obest.",singular_definite:"Sg. best.",plural:"Pl.",comparative:"Comp.",superlative:"Sup."},C={singular_indefinite:"Sg. obest.",noun_type:"en/ett",singular_definite:"Sg. best.",plural_indefinite:"Pl. obest.",plural_definite:"Pl. best."},y={infinitive:"Inf.",present_tense:"Presens",preterite:"Pret.",imperative:"Imp.",supinum:"Supinum"},O=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=t=function(t){function n(){return Object(c.a)(this,n),Object(s.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(d.a)(n,t),Object(u.a)(n,[{key:"render",value:function(){var t=this.props,n=t.data,r=t.onChange,o=Object(g.a)(t,["data","onChange"]),c="index-card swedish";return i&&(c+=" edit"),a.a.createElement("div",Object.assign({},o,{className:c}),Object.entries(e).map(function(e,t){var o=Object(p.a)(e,2),c=o[0],u=o[1];return[a.a.createElement("label",{key:u},u),i?a.a.createElement("input",{key:"input_"+u,value:n[c]||"",onChange:r(c),autoFocus:0===t}):a.a.createElement("div",{key:"display_"+u},n[c]||"")]}))}}]),n}(r.Component),t.IDENTIFIER=Object.keys(e)[0],n};O.defaultProps={onChange:function(){return function(){return null}}};var k=O(b),w=O(C),x=O(y),S=O({value:"Freitext"}),I=O(b,!0),N=O(C,!0),j=O(y,!0),D=O({value:"Freitext"},!0),_={FREE_TEXT:"FREE_TEXT",VERB:"VERB",ADJECTIVE:"ADJ",NOUN:"NOUN"};function T(e){switch(e){case _.FREE_TEXT:return D;case _.VERB:return j;case _.ADJECTIVE:return I;case _.NOUN:return N;default:return function(){return null}}}var R=n(64),A=n(403).parse,L=n(26),X=function(e){return(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"/api"}).REACT_APP_SVENSKASE_PROXY||document.location.origin)+"/svenskase?sok="+encodeURIComponent(e.trim().split(/\s/).join("+"))},U="Wanted type not found.",B={substantiv:"NOUN",adjektiv:"ADJ",verb:"VERB",other:"OTHER"};function F(e){for(var t={},n=e.querySelectorAll(".tabell tr *").map(function(e){return e.text.trim()}),r=Math.max(n.indexOf("Finita former"),0),a=Math.max(n.indexOf("Infinita former"),0),i=Math.max(n.indexOf("Presens particip"),0),o=r+2;o<a;o+=2)"presens aktiv"===n[o]?t.present_tense=n[o-1]:"preteritum aktiv"===n[o]?t.preterite=n[o-1]:"imperativ aktiv"===n[o]&&(t.imperative=n[o-1]);for(var c=a+2;c<i;c+=2)"infinitiv aktiv"===n[c]?t.infinitive=n[c-1].replace("att","").trim():"supinum aktiv"===n[c]&&(t.supinum=n[c-1].replace("har/hade","").trim());return t}function P(e){for(var t={},n=e.querySelectorAll(".tabell tr *").map(function(e){return e.text.split("+")[0].trim()}),r=Math.max(n.indexOf("Positiv"),0)||Math.max(n.indexOf("Ordform(er)"),0)||Math.max(n.indexOf("Perfekt particip"),0),a=Math.max(n.indexOf("Komparativ"),0),i=n.indexOf("Superlativ"),o=r+1;o<(a||n.length);o+=1){var c=n[o].split(/\s/),u=Object(p.a)(c,2),s=u[0],l=u[1];s=s.split("/"),L.includes(s,"en")&&(t.singular_utrum_indefinite=l),L.includes(s,"ett")&&(t.singular_neutrum_indefinite=l),L.includes(s,"de")&&(t.plural=l),L.includes(s,"den")&&L.includes(s,"det")&&(t.singular_definite=l)}t.comparative=n[a+1].split(/\s/)[1];for(var d=i+1;d<n.length;d+=1){var h=n[d].split(/\s/),f=Object(p.a)(h,2);s=f[0],l=f[1];if("\xe4r"===s){t.superlative=l;break}}return 0===a&&-1===i&&(t.comparative="",t.superlative=""),r===n.length-2&&(t.singular_definite=n[r+1],t.singular_utrum_indefinite=n[r+1],t.singular_neutrum_indefinite=n[r+1],t.plural=n[r+1]),t}function V(e){var t={},n=e.querySelectorAll(".tabell tr *").map(function(e){return e.text.trim()});t.noun_type=e.querySelector(".ordform i").text;for(var r=Math.max(n.indexOf("Singular"),0),a=Math.max(n.indexOf("Plural"),0),i=r+2;i<a;i+=2)"obest\xe4md form"===n[i]?t.singular_indefinite=n[i-1].replace(t.noun_type,"").trim():"best\xe4md form"===n[i]&&(t.singular_definite=n[i-1]);for(var o=a+2;o<n.length;o+=2)"obest\xe4md form"===n[o]?t.plural_indefinite=n[o-1].replace(t.noun_type,"").trim():"best\xe4md form"===n[o]&&(t.plural_definite=n[o-1]);return t}function z(e,t,n,r){e&&console.log("ERROR:",e);var a,i,o=A(n).querySelectorAll(".lemma"),c=o.map(function(e){return function(e){var t=e.querySelector("a.ordklass");if(!t)return"OTHER";var n=t.text.split(/\s/);return L.includes(n,"substantiv")?B.substantiv:L.includes(n,"adjektiv")?B.adjektiv:L.includes(n,"verb")?B.verb:"UNKOWN"}(e)});if(console.log("Found wordtypes",c),r){if(void 0===(i=o[c.indexOf(r.toUpperCase())]))if("ADJ"===r.toUpperCase()&&L.includes(c,"VERB"))i=o[c.indexOf("VERB")];else{if(!L.includes(c,"OTHER"))throw U;console.log("Expected word type not found, try to work with the OTHER entry"),i=o[c.indexOf("OTHER")]}a=r.toUpperCase()}else if(1===o.length){var u=[o[0],c[0]];i=u[0],a=u[1]}else{var s=[o[0],c[0]];i=s[0],a=s[1],console.log("No expected word type, using first lemma of type '"+a+"'")}switch(a){case"ADJ":return["ADJ",P(i)];case"NOUN":return["NOUN",V(i)];case"VERB":return["VERB",F(i)];case"UNKNOWN":throw Object("Wordtype 'UNKNOWN'.");default:throw Object("Unknown wordtype '"+a+"'")}}var J=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).defaultState=v.a.cloneDeep(e),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setState",value:function(e,t){this.props.update(Object(f.a)({},this.props,e))}},{key:"autofill",value:function(){var e=this,t=this.props.swedish[T(this.props.wordtype).IDENTIFIER];if(t)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return null},a={url:X(e),headers:{"Content-Type":"text/plain",Origin:"svenska.se"}},i=a.url,o=Object(g.a)(a,["url"]);console.log("Sending request to",i),R(i,o,function(e,a,i){try{var o=z(e,0,i,t);n(o)}catch(e){r(e)}})}(t=t.replace(/^att /,"").replace(/^en /,"").replace(/^ett /,""),this.props.wordtype,function(t){var n=Object(p.a)(t,2),r=(n[0],n[1]);return e.setState({swedish:r})},function(e){return console.error("Could not autofill:",e)})}},{key:"handleWordtypeChange",value:function(e,t){var n=e.target.value||t;n!==this.props.wordtype&&this.setState({wordtype:n,swedish:{}})}},{key:"handleChangeInSwedish",value:function(e,t){var n=JSON.parse(JSON.stringify(this.props.swedish));n[e]=t.target.value,this.setState({swedish:n})}},{key:"saveCard",value:function(){this.props.onSave()}},{key:"handleShortcuts",value:function(e){e.ctrlKey?("Enter"===e.key&&(e.preventDefault(),this.autofill()),"s"===e.key&&(e.preventDefault(),this.saveCard())):e.altKey&&("v"===e.key&&(e.preventDefault(),this.handleWordtypeChange({target:{value:_.VERB}})),"a"===e.key&&(e.preventDefault(),this.handleWordtypeChange({target:{value:_.ADJECTIVE}})),"n"===e.key&&(e.preventDefault(),this.handleWordtypeChange({target:{value:_.NOUN}})))}},{key:"componentDidMount",value:function(){this.focusInput&&this.focusInput.focus({preventScroll:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.german,r=t.wordtype,i=t.swedish;if(!Boolean(r))return a.a.createElement("div",null);var o=T(r);return a.a.createElement("div",{tabIndex:1,onKeyDown:this.handleShortcuts.bind(this)},a.a.createElement("select",{value:r,onChange:this.handleWordtypeChange.bind(this)},a.a.createElement("option",{value:_.FREE_TEXT},"Freitext"),a.a.createElement("option",{value:_.VERB},"Verb"),a.a.createElement("option",{value:_.NOUN},"Substantiv"),a.a.createElement("option",{value:_.ADJECTIVE},"Adjektiv")),a.a.createElement("div",null),a.a.createElement("div",{className:"index-card "+r.toLowerCase()},a.a.createElement("div",{className:"index-card edit german"},a.a.createElement("label",null,"Wort/Phrase:"),a.a.createElement("input",{value:n,ref:function(t){return e.focusInput=t},onChange:function(t){return e.setState({german:t.target.value})}})),a.a.createElement("hr",null),a.a.createElement(o,{onChange:function(t){return function(n){return e.handleChangeInSwedish(t,n)}},data:i})),a.a.createElement("button",{onClick:this.autofill.bind(this)},"Automatisch bef\xfcllen"),a.a.createElement("button",{onClick:function(){return e.setState(Object(f.a)({},e.defaultState))}},"Zur\xfccksetzen"))}}]),t}(a.a.Component),M=n(64),q=n.n(M),W="/api/lecture/";function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null},r=W+e;console.log("Fetching data from",r),q()(r,function(e,r,a){if(e)return n(e);var i=r.statusCode;if(i<300&&i>=200){var o=JSON.parse(a),c=o.index_cards,u=Object(g.a)(o,["index_cards"]);t(Object(f.a)({},u,{indexCards:c}))}else n(a)})}"/api".startsWith("/")&&(W=document.location.origin+W);var H=n(16),Q=function(e){var t=e.german,n=e.swedish,r=e.wordtype,i=e.isFocused,o=e.onClick,c=e.onClickDelete;return a.a.createElement("div",{className:"index-card "+r.toLowerCase()+" small"+(i?" focused":""),tabIndex:1,onClick:o},a.a.createElement("div",null,a.a.createElement("p",null,t)),a.a.createElement("hr",null),a.a.createElement("div",null,a.a.createElement("p",null,n[T(r).IDENTIFIER])),a.a.createElement("span",{className:"delete-overlay",onClick:c},a.a.createElement("span",{className:"glyphicon glyphicon-remove"})))},Z=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={collapsed:!1},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.collapsed,n=this.props.children;return a.a.createElement("div",{className:"sticky-navigation "+(t?"collapsed":"expanded")},a.a.createElement("div",{className:"collapse-container"},n),a.a.createElement("span",{onClick:function(){return e.setState({collapsed:!t})}}))}}]),t}(a.a.Component),Y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).currentId=null,n.getLectureId=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props).match.params.lectureId||null},n.state={currentIndexCard:0,successful:null},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.currentId=this.getLectureId(),this.currentId&&K(this.currentId,function(t){var n=t.name,r=t.description,a=t.indexCards;e.nameInput.value=n,e.descriptionInput.value=r,e.props.loadIndexCards(a)})}},{key:"componentDidUpdate",value:function(e){var t=this.props.indexCards.length,n=e.indexCards.length;n<t?this.setState({currentIndexCard:t-1}):n>t&&this.setState({currentIndexCard:Math.min(t-1,this.state.currentIndexCard)}),this.getLectureId(e)!==this.getLectureId()&&(this.currentId=this.getLectureId())}},{key:"onAddCard",value:function(){window.scrollTo({top:0}),this.props.addIndexCard()}},{key:"onSaveSuccess",value:function(e){var t=this;null===this.currentId&&(this.currentId=e,this.props.history.push("/lecture/"+e)),K(this.currentId,function(e){var n=e.name,r=e.description,a=e.indexCards;t.nameInput.value=n,t.descriptionInput.value=r,t.props.loadIndexCards(a)}),this.setState({successful:!0},function(){return setTimeout(function(){return t.setState({successful:null})},5e3)})}},{key:"onSaveFailure",value:function(e){var t=this;console.error("Error on saving lecture:",e),this.setState({successful:!1},function(){return setTimeout(function(){return t.setState({successful:null})},5e3)})}},{key:"saveLecture",value:function(){!function(e,t,n,r,a,i){var o=W;e&&(o+=e),console.log("Fetching data from",o);var c={name:t,description:n,index_cards:r};q.a.post({url:o,body:JSON.stringify(c),headers:{"Content-Type":"text/plain"}},function(e,t,n){if(e)return i(e);var r=t.statusCode;r<300&&r>=200?a(n):i(n)})}(this.currentId,this.nameInput.value,this.descriptionInput.value,this.props.indexCards.filter(function(e){return t=e,!!Boolean([t.german].concat(Object(E.a)(Object.values(t.swedish))).filter(function(e){return""!==e}).length);var t}),this.onSaveSuccess.bind(this),this.onSaveFailure.bind(this))}},{key:"goBackToOverview",value:function(){this.props.resetIndexCards(),this.props.history.push("/")}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.indexCards,i=n.updateIndexCard,o=n.deleteIndexCard,c=this.state,u=c.currentIndexCard,s=c.successful;return e=null!==s?s?"lightgreen":"#faa":null,console.log("SaveButtonOutline:",e),a.a.createElement("div",null,a.a.createElement(Z,null,a.a.createElement("button",{style:{background:e},onClick:this.saveLecture.bind(this)},"Lektion speichern"),a.a.createElement("button",{onClick:this.goBackToOverview.bind(this)},"Zur\xfcck zur \xdcbersicht")),a.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 10fr",marginBottom:"24px",marginTop:"24px"}},a.a.createElement("label",null,"Name der Lektion "),a.a.createElement("input",{ref:function(e){return t.nameInput=e}}),a.a.createElement("label",null,"Beschreibung (optional)"),a.a.createElement("textarea",{ref:function(e){return t.descriptionInput=e}})),a.a.createElement("div",{className:"lecture current-index-card"},a.a.createElement(J,Object.assign({},r[u],{key:u+r.length,update:i(u),onSave:this.onAddCard.bind(this)}))),a.a.createElement("div",{className:"lecture index-cards"},r.map(function(e,n){return a.a.createElement(Q,Object.assign({onClick:function(){return t.setState({currentIndexCard:n},function(){return window.scrollTo({top:0,behavior:"smooth"})})},onClickDelete:o(n),isFocused:n===u},r[n],{key:n}))}),a.a.createElement("div",{className:"add-index-card",onClick:this.onAddCard.bind(this)},a.a.createElement("span",{className:"glyphicon glyphicon-plus"}))))}}]),t}(a.a.Component),$=Object(H.e)(Object(h.b)(function(e){return{indexCards:e.indexCards}},function(e){return{addIndexCard:function(){return e({type:"ADD_INDEX_CARD"})},deleteIndexCard:function(t){return function(){return e({type:"DELETE_INDEX_CARD",index:t})}},updateIndexCard:function(t){return function(n){return e({type:"UPDATE_INDEX_CARD",index:t,data:n})}},loadIndexCards:function(t){return e({type:"LOAD_INDEX_CARDS",indexCards:t})},resetIndexCards:function(){return e({type:"RESET_INDEX_CARDS"})}}})(Y)),G=n(81),ee={german:"",wordtype:_.FREE_TEXT,swedish:{value:""},id:""},te={indexCards:[ee]},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=v.a.cloneDeep(e),r=t.type,a=t.index,i=t.data,o=t.indexCards;switch(r){case"ADD_INDEX_CARD":n.indexCards.push(v.a.cloneDeep(ee));break;case"UPDATE_INDEX_CARD":n.indexCards[a]=i;break;case"DELETE_INDEX_CARD":n.indexCards.splice(a,1);break;case"LOAD_INDEX_CARDS":n.indexCards=v.a.cloneDeep(o);break;case"RESET_INDEX_CARDS":n.indexCards=[v.a.cloneDeep(ee)]}return n},re=n(181),ae=function(e){var t=e.name,n=e.description,r=e.onClickEdit,i=e.onClickStart;return a.a.createElement("div",{className:"lecture-meta"},a.a.createElement("div",null,a.a.createElement("div",null,t),a.a.createElement("div",null,n)),a.a.createElement("div",{className:"lecture-meta buttongroup"},a.a.createElement("button",{onClick:i},"Lektion starten"),a.a.createElement("button",{onClick:r},"Editieren")))},ie=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).snackMeta={name:"Snack: 20",description:"20 zuf\xe4llige Vokabeln aus allen Lektionen.",id:"snack"},n.onClickEdit=function(e){return function(){return n.props.history.push("/lecture/"+e.id)}},n.onClickStart=function(e){return function(){return n.props.history.push("/quiz/yesno/"+e.id)}},n.state={lectures:[]},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};console.log("Fetching data from",W),q()(W,function(n,r,a){if(n)return t(n);var i=r.statusCode;i<300&&i>=200?e(JSON.parse(a)):t(a)})}(this.loadLectures.bind(this),function(e){return console.error("ERROR:",e)})}},{key:"loadLectures",value:function(e){e.length>0&&this.setState({lectures:[this.snackMeta].concat(Object(E.a)(e))})}},{key:"render",value:function(){var e=this,t=this.state.lectures;return a.a.createElement("div",{className:"lecture-overview"},a.a.createElement("div",null,"Lektionen"),a.a.createElement("div",{className:"lecture-meta"},a.a.createElement("button",{onClick:function(){return e.props.history.push("/lecture")}},"Lektion hinzuf\xfcgen")),t.map(function(t,n){return a.a.createElement(ae,Object.assign({},t,{key:n,onClickEdit:e.onClickEdit(t),onClickStart:e.onClickStart(t)}))}))}}]),t}(a.a.Component),oe=Object(H.e)(ie),ce=n(180),ue=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"onTouchStart",value:function(e){this.touchDownX=e.touches[0].screenX,this.props.onTouchStart(e)}},{key:"onTouchEnd",value:function(e){var t=e.changedTouches[0].screenX;null!==this.touchDownX&&Math.abs(t-this.touchDownX)>50&&(t>this.touchDownX?this.props.onSwipeRight():this.props.onSwipeLeft()),this.props.onTouchEnd(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=(e.onTouchStart,e.onTouchEnd,e.onSwipeRight,e.onSwipeLeft,Object(g.a)(e,["children","className","onTouchStart","onTouchEnd","onSwipeRight","onSwipeLeft"]));return a.a.createElement("div",Object.assign({onTouchStart:this.onTouchStart.bind(this),onTouchEnd:this.onTouchEnd.bind(this),className:n+" swipeable"},r),t)}}]),t}(a.a.Component);ue.defaultProps={onSwipeRight:function(){return null},onSwipeLeft:function(){return null},onTouchStart:function(){return null},onTouchEnd:function(){return null}};var se=ue,le=function(e){var t=e.quiztype,n=e.german,r=e.wordtype,i=e.swedish,o=e.onClick,c=(e.onClickDelete,function(e){switch(e){case _.FREE_TEXT:return S;case _.VERB:return x;case _.ADJECTIVE:return k;case _.NOUN:return w;default:return function(){return null}}}(r));return a.a.createElement("div",{className:"index-card "+r.toLowerCase()+" quiz "+t,tabIndex:1,onClick:o},a.a.createElement("div",null,a.a.createElement("p",null,n)),a.a.createElement("hr",null),a.a.createElement(c,{data:i,key:"swedish"}))};var de=function(e){var t=e.correct,n=e.wrong,r=e.className,i=e.redoQuiz,o=e.goBack,c=Object(g.a)(e,["correct","wrong","className","redoQuiz","goBack"]);return a.a.createElement("div",Object.assign({},c,{className:r}),a.a.createElement("div",{className:"quiz yesno result"},a.a.createElement("div",null,"Richtig:"),a.a.createElement("div",null,t.length),a.a.createElement("div",null,"Falsch:"),a.a.createElement("div",null,n.length),a.a.createElement("hr",null),a.a.createElement("hr",null),a.a.createElement("div",null,"Ergebnis:"),a.a.createElement("div",null,parseInt(100*t.length/(t.length+n.length)),"%"),a.a.createElement("button",{onClick:function(){return i([].concat(Object(E.a)(t),Object(E.a)(n)))}},"Alle wiederholen"),a.a.createElement("button",{onClick:function(){return i(n)}},"Fehler wiederholen"),a.a.createElement("button",{style:{gridColumnStart:1,gridColumnEnd:3,width:"100%"},onClick:o},"Zur\xfcck zur \xdcbersicht")))},he=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={unfinished:[],isTurned:!1,correct:[],wrong:[]},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.newRound(this.props.indexCards)}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.unfinished,n=e.correct,r=e.wrong;0===t.length&&n.length+r.length!==0&&function(e,t){0===e.length&&0===t.length&&console.log("Empty result to send; doing nothing."),fetch("/api/result/",{method:"POST",body:JSON.stringify({wrong:e,correct:t})}).then(function(){return console.log("Send result.")}).catch(function(e){return console.error("Error send results:",e)})}(r,n)}},{key:"newRound",value:function(e){this.setState({unfinished:v.a.shuffle(v.a.cloneDeep(e)),isTurned:!1,correct:[],wrong:[]})}},{key:"onKeyDown",value:function(e){switch(e.key){case"ArrowLeft":return e.preventDefault(),this.nextCard(!1);case"ArrowRight":return e.preventDefault(),this.nextCard(!0);case"Enter":return e.preventDefault(),this.turnCard();default:return}}},{key:"turnCard",value:function(){this.state.isTurned||this.setState({isTurned:!0})}},{key:"nextCard",value:function(e){if(this.state.isTurned){var t=Object(ce.a)(this.state.unfinished),n=t[0],r=t.slice(1);e?this.setState({unfinished:r,correct:[].concat(Object(E.a)(this.state.correct),[n]),isTurned:!1}):this.setState({unfinished:r,wrong:[].concat(Object(E.a)(this.state.wrong),[n]),isTurned:!1})}}},{key:"onTouchDown",value:function(e){"sticky-navigation"===e.target.classname?console.log("AAAAHA!"):this.turnCard()}},{key:"render",value:function(){var e=this,t=this.state,n=t.unfinished,r=t.isTurned,i=t.correct,o=t.wrong;return n.length?a.a.createElement(se,{tabIndex:1,id:"foobarbaz",onClick:function(){return document.getElementById("foobarbaz").focus()},className:"quiz yesno root",onKeyDown:this.onKeyDown.bind(this),onSwipeRight:function(){return e.nextCard(!0)},onSwipeLeft:function(){return e.nextCard(!1)},onTouchStart:this.onTouchDown.bind(this)},a.a.createElement("div",{className:"quiz yesno current-card"+(r?"":" unturned")},a.a.createElement("div",{onClick:this.turnCard.bind(this)},a.a.createElement(le,Object.assign({},n[0],{quiztype:"yesno"}))),a.a.createElement("div",{className:"buttongroup"},a.a.createElement("button",{onClick:function(){return e.nextCard(!1)}},"Wusste ich nicht"),a.a.createElement("button",{onClick:function(){return e.nextCard(!0)}},"Wusste ich"))),a.a.createElement("div",{className:"sticky-navigation"},a.a.createElement("button",{onClick:function(){return e.setState({unfinished:[],wrong:[].concat(Object(E.a)(o),Object(E.a)(n))})},style:{float:"right"}},"Quiz abbrechen"))):a.a.createElement("div",{className:"quiz yesno root "},a.a.createElement(de,{correct:i,wrong:o,redoQuiz:this.newRound.bind(this),goBack:function(){return window.location="/"}}))}}]),t}(a.a.Component),pe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={loaded:!1,data:[]},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;K(this.props.match.params.lectureId,function(t){return e.setState({data:t.indexCards,loaded:!0})})}},{key:"render",value:function(){var e=this.state,t=e.loaded,n=e.data;return t?a.a.createElement(he,{indexCards:n}):a.a.createElement(se,null,"Loading...")}}]),t}(a.a.Component);var fe=function(){return a.a.createElement(h.a,{className:"App",store:Object(G.b)(ne,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},a.a.createElement(re.a,null,a.a.createElement(H.c,null,a.a.createElement(H.a,{path:"/lecture/:lectureId?",component:$}),a.a.createElement(H.a,{path:"/quiz/yesno/:lectureId",component:pe}),a.a.createElement(H.a,{path:"/",component:oe}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[182,1,2]]]);
//# sourceMappingURL=main.677b1ac1.chunk.js.map